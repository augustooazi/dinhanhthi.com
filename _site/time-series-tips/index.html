<!DOCTYPE html><html domain=".com" lang="en"><head><meta charset="utf-8"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="default-src 'self';object-src 'none';script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com/;style-src 'self' https://fonts.googleapis.com/ https://use.fontawesome.com/ 'unsafe-inline';img-src 'self' data:;font-src 'self' https://fonts.gstatic.com/ https://use.fontawesome.com/" http-equiv="Content-Security-Policy"><link href="/favicon.svg" rel="icon" type="image/svg+xml"><meta content="#f9c412" name="theme-color"><meta content="max-snippet:-1, max-image-preview: large, max-video-preview: -1" name="robots"><title>Time Series extra</title><meta content="Time Series extra" property="og:title"><meta content="Terminologies &amp;amp; fields of research # Burst detection: An unexpectedly large number of events occurring within some certain temporal or..." name="description"><meta content="Terminologies &amp;amp; fields of research # Burst detection: An unexpectedly large number of events occurring within some certain temporal or..." property="og:description"><meta content="summary_large_image" name="twitter:card"><meta content="@dinhanhthi" name="twitter:site"><meta content="@dinhanhthi" name="twitter:creator"><meta content="/img/header/ts.png" property="og:image"><link href="https://dinhanhthi.com/time-series-tips/" rel="canonical"><meta content="no-referrer-when-downgrade" name="referrer"><link href="/feed/feed.xml" rel="alternate" type="application/atom+xml" title="ðŸ”¥ Anh-Thi DINH"><link href="/" rel="preconnect" crossorigin=""><script src="/js/min.js?hash=70bdd86fac" async="" defer=""></script><script csp-hash="sha256-ZO6+QmLYhAEQAnjl/xe643cTrnHA858+XwtOmaWwuN8=">if (/Mac OS X/.test(navigator.userAgent))
      document
        .documentElement
        .classList
        .add('apple')</script><style>@charset "UTF-8";@font-face{font-display:swap;font-family:"Poppins";font-style:normal;font-weight:400;src:url(/fonts/poppins/poppins-v15-latin-regular.eot);src:local("Poppins Regular"),local("Poppins-Regular"),url(/fonts/poppins/poppins-v15-latin-regular.eot?#iefix) format("embedded-opentype"),url(/fonts/poppins/poppins-v15-latin-regular.woff2) format("woff2"),url(/fonts/poppins/poppins-v15-latin-regular.woff) format("woff"),url(/fonts/poppins/poppins-v15-latin-regular.ttf) format("truetype"),url(/fonts/poppins/poppins-v15-latin-regular.svg#Poppins) format("svg")}@font-face{font-display:swap;font-family:"Poppins";font-style:italic;font-weight:400;src:url(/fonts/poppins/poppins-v15-latin-italic.eot);src:local("Poppins Italic"),local("Poppins-Italic"),url(/fonts/poppins/poppins-v15-latin-italic.eot?#iefix) format("embedded-opentype"),url(/fonts/poppins/poppins-v15-latin-italic.woff2) format("woff2"),url(/fonts/poppins/poppins-v15-latin-italic.woff) format("woff"),url(/fonts/poppins/poppins-v15-latin-italic.ttf) format("truetype"),url(/fonts/poppins/poppins-v15-latin-italic.svg#Poppins) format("svg")}@font-face{font-display:swap;font-family:'Poppins';font-style:normal;font-weight:600;src:url(/fonts/poppins/poppins-v15-latin-600.eot);src:local("Poppins SemiBold"),local("Poppins-SemiBold"),url(/fonts/poppins/poppins-v15-latin-600.eot?#iefix) format("embedded-opentype"),url(/fonts/poppins/poppins-v15-latin-600.woff2) format("woff2"),url(/fonts/poppins/poppins-v15-latin-600.woff) format("woff"),url(/fonts/poppins/poppins-v15-latin-600.ttf) format("truetype"),url(/fonts/poppins/poppins-v15-latin-600.svg#Poppins) format("svg")}@font-face{font-display:swap;font-family:'Poppins';font-style:italic;font-weight:600;src:url(/fonts/poppins/poppins-v15-latin-600italic.eot);src:local("Poppins SemiBold Italic"),local("Poppins-SemiBoldItalic"),url(/fonts/poppins/poppins-v15-latin-600italic.eot?#iefix) format("embedded-opentype"),url(/fonts/poppins/poppins-v15-latin-600italic.woff2) format("woff2"),url(/fonts/poppins/poppins-v15-latin-600italic.woff) format("woff"),url(/fonts/poppins/poppins-v15-latin-600italic.ttf) format("truetype"),url(/fonts/poppins/poppins-v15-latin-600italic.svg#Poppins) format("svg")}@font-face{font-display:swap;font-family:'Recoleta';src:url(/fonts/recoleta/Recoleta-Bold.woff2) format("woff2"),url(/fonts/recoleta/Recoleta-Bold.woff) format("woff"),url(/fonts/poppins/Recoleta-Bold.ttf) format("truetype");font-weight:700;font-style:bold}*{border:0;box-sizing:border-box}:root{font-size:16.5px}main img{content-visibility:auto}::-webkit-scrollbar{height:10px;width:10px}::-webkit-scrollbar-thumb{background:#3e466b;border-radius:6px}::-webkit-scrollbar-thumb:hover{background:#aaa;cursor:pointer}::-webkit-scrollbar-track{background:#363948}::-webkit-scrollbar-corner{background:#282a36}body,html{font-family:"Poppins",Arial,Helvetica,sans-serif;font-size:16.5px}html{-webkit-text-size-adjust:100%}@supports (font-variation-settings:normal){html{font-family:"Poppins" var alt,Arial,Helvetica,sans-serif}}body{background:#282a36;color:#eee;margin:0;counter-reset:h2counter}b,strong{font-weight:600;color:#8cc8ff}small{font-size:80%}sup{top:-.5em}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}a,a:hover{text-decoration:none}a:hover{border-bottom:2px solid #ffd479;color:#fff}a.no-effect:hover{border-bottom:none}img{max-width:100%}main{margin:0 auto}.page-note>h2,h1,h2{font-family:"Recoleta",Arial,Helvetica,sans-serif;font-size:24.75px}.page-note>h2,h1{font-size:29.7px}.page-note>h2{color:#eee;font-size:24.75px;margin:37.125px 0 19.8px}.page-note>h2:hover .direct-link{display:inline-block}.page-note>h2:hover a:hover,a{color:#ffd479}.page-note .direct-link{display:none;color:#777;border-bottom:none;margin-left:3px}.page-note pre+h2{margin-top:37.125px}.page-note h1{counter-reset:h2counter}.page-note h2{counter-reset:h3counter}.page-note h2:before{content:counter(h2counter) ".Â Â ";counter-increment:h2counter;color:#8cc8ff}.container,header{width:100%;margin:0 auto}.normal{padding:0 16.5px;width:100%}@media (min-width:916.5px){.normal{width:900px}}.mt-2{margin-top:2rem}.page-index .container{padding:2rem 1rem 0}.page-index .main-cats{flex:0 1 calc(100% - 280px);padding-right:1rem}.page-index .main-cats>.category-wrapper{padding-bottom:1.5rem}.page-index .main-cats>.category-wrapper>.category{border:1px solid #3b3e54;border-radius:7px;height:fit-content;background:#2f3240;padding:2rem 1.5rem 1.5rem}.page-index .toc-index{border:1px solid #404040;border-radius:7px;height:fit-content;background:#35373c;flex:0 1 280px;position:sticky;top:60px;padding:1rem 1.1rem}.page-index .toc-index h3{padding-bottom:5px;border-bottom:1px solid #555;margin:0 0 10px;font-size:1.3rem}.page-index .toc-index ul{padding-left:20px;margin:0}.page-index .toc-index p{font-style:italic;color:#999;padding-top:0;margin-bottom:0;font-size:.95rem;margin-top:10px}.page-index .toc-index p a{color:#999;border-bottom:2px solid #999}.page-index .toc-index p a:hover{border-bottom:2px solid #ffd479}@media (max-width:991px){.page-index .main-cats{flex:1 1 100%;order:2;padding-right:0}.page-index .toc-index{flex:1 1 100%;order:1;position:inherit;margin-bottom:1.5rem}.page-index .toc-index ul{column-count:3;-webkit-column-count:3;-moz-column-count:3}}@media (max-width:767px){.page-index .toc-index ul{column-count:2;-webkit-column-count:2;-moz-column-count:2}}@media (max-width:575px){.page-index .toc-index ul{column-count:1;-webkit-column-count:1;-moz-column-count:1}}.category{width:100%}.category h2,header h1{font-size:1.55rem;margin-top:0}.category h2 img{float:left;margin-right:7px}.category .list-homepage{list-style:none;padding-left:10px;margin-bottom:0;column-count:1;-webkit-column-count:1;-moz-column-count:1}@media (min-width:768px){.category .list-homepage{column-count:2;-webkit-column-count:2;-moz-column-count:2}}@media (min-width:992px){.category .list-homepage{column-count:3;-webkit-column-count:3;-moz-column-count:3}}.category .list-homepage li{padding-left:15px;margin-bottom:10px;display:inline-block;width:100%}.category .list-homepage li a{color:#ddd;border-bottom:2px solid rgba(255,255,255,.14);border-style:dotted}.category .list-homepage li::before{content:"ðŸ“„";margin-right:5px;margin-left:-25px;opacity:.8}.category .list-homepage li:hover,.hsbox .hs__title{cursor:pointer}.category .list-homepage li:hover a{border-color:#ffd479;color:#fff}.category .list-homepage li:hover::before{opacity:1}.page-index header{padding-top:5em;padding-bottom:0}.page-index header .header-logo{height:80px;width:auto}header nav{z-index:10}#nav{z-index:2;position:relative}header{padding:5.5rem 1.5rem 1rem;width:900px;text-align:center;max-width:100%;display:flex;align-items:center;flex-direction:column}header h1{font-size:2.2rem;margin-bottom:0}header p{margin-top:1rem}header .header-logo{width:55px;height:55px;margin-bottom:1rem}header .header-logo img{width:100%;height:100%}header .social{margin-top:.5rem}header #more-info #note-tag>a,header .social a{margin-right:10px}header .social a:last-child{margin-right:0}@media (min-width:992px){header .social a{margin-right:20px}}header .social a img{border-radius:50%}header #more-info{padding:1rem}header #more-info #note-tag{padding-bottom:10px;border-bottom:1px solid #444}header #more-info #note-tag>a::before{content:"#"}header #more-info #last-modified{padding-top:10px;font-style:italic}#reading-progress,nav{top:0;left:0;width:100vw}#reading-progress{z-index:3;border-bottom:1px solid #ffd479;position:absolute;bottom:0;transform:translate(-100vw,0);will-change:transform;pointer-events:none}.intro,.job span{font-size:1.02rem}.intro b,.intro strong{color:#ffd479;font-weight:400}.intro a,footer a:hover{color:#fff}.job span{background:#ffd479;color:#000;padding:3px 10px;border-radius:15px}nav{position:fixed;padding:0 1.5em;background:#35373c}@media (max-width:992px){nav{padding:0 1em}}@media (max-width:576px){nav{padding:0 .5em}}nav #nav{display:-ms-flexbox;-ms-flex-align:center;align-items:center}nav #nav a{color:#ccc;margin-right:15px;align-items:center;padding:0 .5rem;font-size:1.1rem;white-space:nowrap}nav #nav a img{margin-right:5px}nav #nav a:hover{color:#fff;cursor:pointer;text-decoration:none}nav #nav .nav-item{text-align:left;margin-right:5px}@media (min-width:421px){nav #nav .nav-item{padding-left:0!important}}@media (max-width:575px){nav #nav .nav-item{width:unset!important}nav #nav .nav-item span{display:none}}@media (min-width:576px){nav #nav .nav-item{margin-right:15px}}nav #nav .nav-github{text-align:right;padding-right:0!important;margin-right:0!important}nav #nav .nav-search{display:block;background-image:linear-gradient(to right,#3d4251,#3b3f4c,#393d46,#373a41,#35373c);width:100%;position:relative}nav #nav,nav #nav .nav-search form,nav #nav a{display:flex}nav #nav .nav-search .nav-search-input{border:0;background:0 0;color:#ddd;font-size:1.05rem;padding:.65rem .5rem;width:100%}nav #nav .nav-search .nav-search-input:focus{outline:0;border:0}nav #nav .nav-search #search-result{position:absolute;max-height:80vh;overflow:auto;width:100%;background:#35373c;border-bottom-right-radius:5px;border-bottom-left-radius:5px;padding:0 1rem}@media (max-width:767px){nav #nav .nav-search #search-result{position:fixed;left:0;right:0;border-radius:0}}nav #nav .nav-search #search-result ul#searchResults{padding:0 0 0 20px}.page-note ol li,.page-note ul li,div.toc ol li,nav #nav .nav-search #search-result ul#searchResults li h3{margin-bottom:5px}nav #nav .nav-search #search-result ul#searchResults li h3 a{color:#efb232;white-space:inherit;padding:0;text-align:left;font-weight:400;font-size:16.5px;font-family:"Poppins",Arial,Helvetica,sans-serif;line-height:1.4}nav #nav .nav-search #search-result ul#searchResults li h3 a:hover{border-bottom:none;color:#8cc8ff}nav #nav .nav-search #search-result ul#searchResults li p{text-align:left;margin-top:0;line-height:1.4}nav #nav .nav-search #search-result #noResultsFound p{text-align:left}footer{font-size:1.1rem;background:#35373c;padding:.75rem 1rem;text-align:center;margin-top:3rem}footer a{color:#ccc}.hsbox{margin-bottom:24.75px;border:1px solid #969696;padding:1rem;border-radius:3px}.hsbox .hs__title::before{content:" ";display:inline-block;border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid currentColor;vertical-align:middle;margin-right:.7rem;transform:translateY(-2px);transition:transform .2s ease-out}.hsbox .hs__title.show{padding-bottom:15px;border-bottom:.5px solid #666;margin-bottom:1rem}.hsbox .hs__title.show+.hs__content{display:block;opacity:1;padding:5px 0;transition:all .25s 0s cubic-bezier(.4,0,.2,1)}.hsbox .hs__title.show::before{transform:rotate(90deg) translateX(-3px)}.hsbox .hs__content{display:none;transition:all .2s 0s ease}.hsbox .hs__content>:last-child{margin-bottom:0}.page-note .text-center{text-align:center}.page-note ol,.page-note p,.page-note ul{margin-top:0;margin-bottom:24.75px}.page-note p+ol,.page-note p+ul{margin-top:-.5rem}.page-note ol li ol,.page-note ol li ul,.page-note ul li ol,.page-note ul li ul{margin-bottom:5px;padding-left:20px}.page-note ol li>*,.page-note ul li>*{margin-bottom:10px}.page-note p.noindent{display:none;padding-left:20px}.page-note p.noindent+ol,.page-note p.noindent+ul{padding-left:20px}.page-note p.indent{display:none;padding-left:40px}.page-note ol.indent,.page-note p.indent+ol,.page-note p.indent+ul,.page-note ul.indent{padding-left:40px}.page-note ol.noindent,.page-note ul.noindent{padding-left:20px}.page-note hr{border-bottom:1px solid #676767;margin-bottom:24.75px}#reading-list .item .author{font-style:italic}#reading-list .item .intro{color:#999}code[class*=language-],pre[class*=language-]{color:#eee;font-size:16px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#75a7ca}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}.token.comment{color:#6a9955}.token.punctuation{color:#eee}.token.inserted,.token.number,.token.unit{color:#b5cea8}.token.builtin,.token.string{color:#ce9178}.token.operator{color:#eee}.token.keyword{color:#90cdff}.token.function{color:#efefac}.token.italic{font-style:italic}.token.boolean{color:#90cdff}.token.property{color:#9cdcfe}pre[class*=language-]>code[class*=language-]{position:relative;z-index:1}code,pre{font-family:Consolas,Menlo,Monaco,"Andale Mono WT","Andale Mono","Lucida Console","Lucida Sans Typewriter","DejaVu Sans Mono","Bitstream Vera Sans Mono","Liberation Mono","Nimbus Mono L","Courier New",Courier,monospace;line-height:1.5}h2>code{font-size:21.78px!important}:not(pre)>code{border:1px solid #444;background:#6b444245;padding:2px 4px;margin:0 1px;border-radius:3px;font-size:.9rem;color:#fff;word-break:break-word}h2>code{color:#ddd;padding-right:6px}a>code{color:#ffd479}a:hover>code{color:#ccc}pre,pre[class*=language-]{margin:0 0 27.225px;overflow:auto}pre>code,pre[class*=language-]>code{display:block;padding:14.5px 16.5px 16.5px;background:#2f3240;border:.5px solid #3b3e54;overflow:auto;border-radius:3px;max-height:450px}div.toc{margin-bottom:24.75px;border:1px solid #3b3e54;border-radius:7px;height:fit-content;background:#2f3240;padding:15px 15px 10px 0}div.toc>ol::before{content:"In this note";display:block;padding-bottom:5px;border-bottom:1px solid #555;margin:0 0 15px;font-size:1.18rem;font-family:"Recoleta",Arial,Helvetica,sans-serif}div.toc ol{padding-left:20px;font-size:14.85px;margin-bottom:0}div.toc ol li code{font-size:.85rem;background:#ececec;padding:0 4px 2px}div.toc ol li ol{padding-left:10px;margin-top:7px}div.toc ol,div.toc ol ol{counter-reset:item;list-style-type:none}div.toc ol li::before{content:counters(item,".") ". ";counter-increment:item}div.toc>ol>li ol>li::before{opacity:.7}div.toc>ol>li::before{color:#8cc8ff}@media (min-width:1300px){div.toc{float:right;margin-right:-280px;border-left:none;width:250px;position:-webkit-sticky;position:sticky;top:60px;max-height:70vh;overflow:auto}div.toc ol{margin-top:0;margin-bottom:0}}@media (min-width:1500px){div.toc{margin-right:-310px;width:280px}}.toc-active>a{color:#fff!important}.toc-active::before{opacity:1!important}.page-note img{height:auto;width:100%}@media (min-width:768px){.page-note .img-full-100{width:100%;margin-left:auto;margin-right:auto;display:block}}.page-note p>img+br,.page-note p>picture+br{display:none}.page-note p>img+br+em,.page-note p>picture+br+em{display:block;text-align:center;margin-top:10px}</style></head><body><header><nav><div id="nav"><a href="/" class="nav-item no-effect"><img alt="home" height="18" src="/img/nav/home.svg" width="18"> <span>Thi</span> </a><a href="/about/" class="nav-item no-effect"><img alt="about" height="15" src="/img/nav/about.svg" width="15"> <span>About</span></a><div class="nav-search"><form><input aria-label="search notes..." class="nav-search-input" id="searchField" placeholder="search notes..." type="search"></form><div id="search-result" style="display: none;"><ul id="searchResults"></ul><div id="noResultsFound" style="display: none;"><p>No results found.</p></div></div></div><a href="https://github.com/dinhanhthi" class="nav-item no-effect nav-github" target="_blank"><img alt="github" height="20" src="/img/nav/github.svg" width="20"></a></div><div id="reading-progress" aria-hidden="true"></div></nav><div class="header-logo"><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/header/ts-1920w.webp 1920w, /img/header/ts-1280w.webp 1280w, /img/header/ts-640w.webp 640w, /img/header/ts-320w.webp 320w" type="image/webp"><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/header/ts-1920w.jpg 1920w, /img/header/ts-1280w.jpg 1280w, /img/header/ts-640w.jpg 640w, /img/header/ts-320w.jpg 320w" type="image/jpeg"><img alt="Time Series extra" height="200" src="/img/header/ts.png" width="200" decoding="async" loading="lazy" style="background-size:cover;contain-intrinsic-size: min(var(--main-width), 200px) min(calc(var(--main-width) * 1), 200px);background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 200 200'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA3klEQVQY02P4OjOHiQEKXq/uYgbR/xnQwKcpaUaf55X6gNitl26rw8Q/L6qSYfg4p0jmR5FR4I8yy5DfbQEWOrf/ls1YNdv/f5tv9sfpWWEMv2blhJ9Y2Gzb8v+/4NP+pAbT2XOT9vZnV/+fFCIHt0Lj5FNf2/Mvchnm7ta4PLdqUf60TkeG//8lEi89SWOIuvzMVfLQPSe5/TckPS+97AI6kJFv3203gf13gtSOP5RhSL/+yibqygtpkEmBZx8IgejgS88jIy8/90HxSejFpwwwL0rsvswIYiseuc8AAC55XwqTp30fAAAAAElFTkSuQmCC'%3E%3C/image%3E%3C/svg%3E&quot;)"></picture></div><h1>Time Series extra<sup>â€¢</sup></h1><div id="more-info"><div id="note-tag"><a href="/tags/time-series">Time Series</a></div><div id="last-modified">30-11-2020 / <a href="https://github.com/dinhanhthi/dinhanhthi.com/edit/dev/./posts/time-series/2020-03-10-time-series-tips.md">Edit on Github</a></div></div></header><main><article><div class="container mt-2 normal page-note"><div class="toc"><ol><li><a href="#terminologies-%26-fields-of-research">Terminologies &amp; fields of research</a></li><li><a href="#read_csv">Read_CSV</a></li><li><a href="#find-the-windows-of-time-series">Find the windows of time series</a></li></ol></div><h2 id="terminologies-%26-fields-of-research">Terminologies &amp; fields of research <a href="#terminologies-%26-fields-of-research" class="direct-link">#</a></h2><ul><li><strong>Burst detection</strong>: An unexpectedly large number of events occurring within some certain temporal or spatial region is called<br>a burst, suggesting unusual behaviors or activities.</li><li><strong>Time Series Regression</strong>: <sup><a href="https://ch.mathworks.com/discovery/time-series-regression.html" target="_blank" rel="noopener noreferrer">[ref]</a></sup> Time series regression is a statistical method for predicting a future response based on the response history (known as autoregressive dynamics) and the transfer of dynamics from relevant predictors. Time series regression can help you understand and predict the behavior of dynamic systems from experimental or observational data. Time series regression is commonly used for modeling and forecasting of economic, financial, and biological systems.</li><li><strong>Time Series Classification</strong>: <sup><a href="https://medium.com/datadriveninvestor/time-series-classification-using-feature-extraction-16209570a22e" target="_blank" rel="noopener noreferrer">[ref]</a></sup> Time series classification deals with classifying the data points over the time based on its' behavior. There can be data sets which behave in an abnormal manner when comparing with other data sets. Identifying unusual and anomalous time series is becoming increasingly common for organizations<ul><li><sup><a href="https://www.analyticsvidhya.com/blog/2019/01/introduction-time-series-classification/" target="_blank" rel="noopener noreferrer">[ref]</a></sup> Time series classification data differs from a regular classification problem since the attributes have an ordered sequence.</li></ul></li><li><strong>Anomaly Detection</strong>:<ul><li>A part in the same time series.</li><li>Finding one or more time series which are different from others.</li><li>Some abnormal points in the same time series.</li><li>Applied for both univariate and multivariate time series.</li></ul></li></ul><h2 id="read_csv">Read_CSV <a href="#read_csv" class="direct-link">#</a></h2><p>More <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html">here</a>.</p><pre class="language-python"><code class="language-python">df_13 <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span>path_file<span class="token punctuation">,</span><br>                    index_col<span class="token operator">=</span><span class="token string">'timestamp'</span><span class="token punctuation">,</span><br>                    parse_dates<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token comment"># index contains dates</span><br>                    infer_datetime_format<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token comment"># auto regconize format</span><br>                    cache_dates<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span> <span class="token comment"># faster</span></code></pre><h2 id="find-the-windows-of-time-series">Find the windows of time series <a href="#find-the-windows-of-time-series" class="direct-link">#</a></h2><p>Suppose we have data like in below, we wanna find the common length interval of all groups.</p><p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/post/time-series/ts-interval-example-1920w.webp 1920w, /img/post/time-series/ts-interval-example-1280w.webp 1280w, /img/post/time-series/ts-interval-example-640w.webp 640w, /img/post/time-series/ts-interval-example-320w.webp 320w" type="image/webp"><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/post/time-series/ts-interval-example-1920w.jpg 1920w, /img/post/time-series/ts-interval-example-1280w.jpg 1280w, /img/post/time-series/ts-interval-example-640w.jpg 640w, /img/post/time-series/ts-interval-example-320w.jpg 320w" type="image/jpeg"><img alt="Group of time series intervals" height="302" src="/img/post/time-series/ts-interval-example.png" width="1162" decoding="async" loading="lazy" style="background-size:cover;contain-intrinsic-size: min(var(--main-width), 1162px) min(calc(var(--main-width) * 0.25989672977624784), 302px);background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 1162 302'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAECAYAAABREWWJAAAACXBIWXMAAB2GAAAdhgFdohOBAAAAwklEQVQI1z2Pu27CQBBF/ff5g1Tp+AJERI1EESERCFAgCsAhYCEWiI3xvtcn6y0y0uhMMXPvnSw4g7EOqS1Vo/ncX7lUEhH7cK3pqg3+n977yIB3lmww++Z1tGUvnkzzOy/DNatTxeb8oPeRM9nduDeWt/GOwaKglDaxPz+SfeWC1bFEGketXZRvk4v1gaKULH9+EQ/F++LE9lJTNoZ1UZGLmsxpFVcDIUZRSmGMSbPW8R2tk5B3UTTYLniKbbubNvAHE3bidHfVCOoAAAAASUVORK5CYII='%3E%3C/image%3E%3C/svg%3E&quot;)" class="img-full-100"></picture></p><pre class="language-python"><code class="language-python"><span class="token comment"># find the biggest gap</span><br>df<span class="token punctuation">[</span><span class="token string">'date'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>diff<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><br><span class="token comment"># 4 biggest gaps</span><br>df<span class="token punctuation">[</span><span class="token string">'date'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>diff<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token punctuation">]</span><br><br><span class="token comment"># starting of each window (the gap used to separate windows is '1D')</span><br>w_starts <span class="token operator">=</span> df<span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">~</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'date'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>diff<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> pd<span class="token punctuation">.</span>to_timedelta<span class="token punctuation">(</span><span class="token string">'1D'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>index<br><br><span class="token comment"># ending of each window</span><br>w_ends <span class="token operator">=</span> <span class="token punctuation">(</span>w_starts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>pd<span class="token punctuation">.</span>Index<span class="token punctuation">(</span><span class="token punctuation">[</span>df<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br><br><span class="token comment"># count the number of windows</span><br><span class="token builtin">len</span><span class="token punctuation">(</span>w_starts<span class="token punctuation">)</span><br><br><span class="token comment"># the biggest/average window size (in points)</span><br><span class="token punctuation">(</span>w_ends <span class="token operator">-</span> w_starts<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token punctuation">(</span>w_ends <span class="token operator">-</span> w_starts<span class="token punctuation">)</span><span class="token punctuation">.</span>values<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><br><br><span class="token comment"># the biggest window size (in time range)</span><br>pd<span class="token punctuation">.</span>Timedelta<span class="token punctuation">(</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span>w_ends<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'date'</span><span class="token punctuation">]</span> <span class="token operator">-</span> df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span>w_starts<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'date'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unit<span class="token operator">=</span><span class="token string">'ns'</span><span class="token punctuation">)</span></code></pre><p>If you wanna add a <code>window</code> column to the original dataframe,</p><pre class="language-python"><code class="language-python">df_tmp <span class="token operator">=</span> df<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><br>w_idx <span class="token operator">=</span> <span class="token number">0</span><br><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>w_starts<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>    df_tmp<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>w_starts<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token punctuation">(</span>w_ends<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'window'</span><span class="token punctuation">]</span> <span class="token operator">=</span> w_idx<br>    w_idx <span class="token operator">+=</span> <span class="token number">1</span><br>df_tmp<span class="token punctuation">.</span>window <span class="token operator">=</span> df_tmp<span class="token punctuation">.</span>window<span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token comment"># convert dtype to int64</span></code></pre><p>There are other cases need to be considered,</p><p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/post/time-series/ts-interval-example-2-1920w.webp 1920w, /img/post/time-series/ts-interval-example-2-1280w.webp 1280w, /img/post/time-series/ts-interval-example-2-640w.webp 640w, /img/post/time-series/ts-interval-example-2-320w.webp 320w" type="image/webp"><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/post/time-series/ts-interval-example-2-1920w.jpg 1920w, /img/post/time-series/ts-interval-example-2-1280w.jpg 1280w, /img/post/time-series/ts-interval-example-2-640w.jpg 640w, /img/post/time-series/ts-interval-example-2-320w.jpg 320w" type="image/jpeg"><img alt="Group of time series intervals" height="303" src="/img/post/time-series/ts-interval-example-2.png" width="1158" decoding="async" loading="lazy" style="background-size:cover;contain-intrinsic-size: min(var(--main-width), 1158px) min(calc(var(--main-width) * 0.2616580310880829), 303px);background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 1158 303'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAECAYAAABREWWJAAAACXBIWXMAAB2GAAAdhgFdohOBAAAAsklEQVQI102PSwuCUBCF/f/Q3l21aNNPKAgCC8xdEGgPLYUsxQjt3vC+TuO1oIHDwMyZmW+cF+eQSgHQUJT/JaWC0RrNu8U2fSAuavIZKyFaOO4ixMRPMVol2N8b/MKYPod5jcEsgrs8Ybw+Yxpk5L9g6MVw1tEVm6SCdyhwe3I7oGlS0cUukrJBQH1DtaximO9y8pbwjwUci0sIRgmLw+kNIYTFZoz1CEbZercAWgJf7wdYjeJEdU1gXwAAAABJRU5ErkJggg=='%3E%3C/image%3E%3C/svg%3E&quot;)" class="img-full-100"></picture><br><em>The gaps are not regular</em></p><p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/post/time-series/ts-interval-example-3-1920w.webp 1920w, /img/post/time-series/ts-interval-example-3-1280w.webp 1280w, /img/post/time-series/ts-interval-example-3-640w.webp 640w, /img/post/time-series/ts-interval-example-3-320w.webp 320w" type="image/webp"><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/post/time-series/ts-interval-example-3-1920w.jpg 1920w, /img/post/time-series/ts-interval-example-3-1280w.jpg 1280w, /img/post/time-series/ts-interval-example-3-640w.jpg 640w, /img/post/time-series/ts-interval-example-3-320w.jpg 320w" type="image/jpeg"><img alt="Group of time series intervals" height="302" src="/img/post/time-series/ts-interval-example-3.png" width="1171" decoding="async" loading="lazy" style="background-size:cover;contain-intrinsic-size: min(var(--main-width), 1171px) min(calc(var(--main-width) * 0.2578992314261315), 302px);background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 1171 302'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAECAYAAABREWWJAAAACXBIWXMAAB2GAAAdhgFdohOBAAAAt0lEQVQI1z2O22rCUBBF8/+f0hd/oFAQWwoF32xBW7ESsEkM0Zyey5xLVkcDnZfZ7DUspnrZtUhMbOoB44W6/+W7M+zbkaePEzlnRidEvXEhYjQ3F0t/tVSrXUeZJp4/O04Xz2Jd8/jecDhbXr/ONGPg4e3IsbdsfwzLbcde2aG9UqET1W58xKt9sMKkMhvSDeFk7mIuSMrkMm8RoXLO6WsF7z05JX1P7iBqnlnG/bNICIGiglv/B/Zi5TtjvZIAAAAAAElFTkSuQmCC'%3E%3C/image%3E%3C/svg%3E&quot;)" class="img-full-100"></picture><br><em>If we choose the gaps (to determine the windows) too small, there are some windows have only 1 point like in this case.</em></p><p>Find the gap's threshold automatically,</p><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>cluster <span class="token keyword">import</span> MeanShift<br><br><span class="token keyword">def</span> <span class="token function">find_gap_auto</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span><span class="token punctuation">:</span><br><br>    X <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'date'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>diff<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">)</span><br>    X <span class="token operator">=</span> X<span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isnat<span class="token punctuation">(</span>X<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment"># remove 'NaT'</span><br>    X<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span><br>    X <span class="token operator">=</span> X<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><br><br>    clustering <span class="token operator">=</span> MeanShift<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>fit<span class="token punctuation">(</span>X<span class="token punctuation">)</span><br>    labels <span class="token operator">=</span> clustering<span class="token punctuation">.</span>labels_<br>    cluster_min <span class="token operator">=</span> labels<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><br><br>    gap <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_timedelta<span class="token punctuation">(</span><span class="token punctuation">(</span>X<span class="token punctuation">[</span>labels<span class="token operator">!=</span>cluster_min<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> X<span class="token punctuation">[</span>labels<span class="token operator">==</span>cluster_min<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><br><br>    <span class="token keyword">return</span> gap</code></pre><p style="font-style: italic; color: #777; font-size: 0.95rem; margin: 3rem 0 0 0; padding-top: 10px; border-top: 1px solid #555;"><sup style="color: #bbb">â€¢</sup>Notes with this notation aren't good enough. They are being updated.</p></div><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Time Series extra","image":["https://dinhanhthi.com/img/post/time-series/ts-interval-example.png","https://dinhanhthi.com/img/post/time-series/ts-interval-example-2.png","https://dinhanhthi.com/img/post/time-series/ts-interval-example-3.png"],"author":"Anh-Thi DINH","genre":"Insert a schema.org genre","url":"https://dinhanhthi.com/time-series-tips/","mainEntityOfPage":"https://dinhanhthi.com/time-series-tips/","datePublished":"09-03-2020","dateModified":"30-11-2020","description":"Terminologies &amp;amp; fields of research # Burst detection: An unexpectedly large number of events occurring within some certain temporal or..."}</script></article></main><footer><a href="/" target="_blank">Thi &nbsp;Â©&nbsp; 2020 </a>&nbsp;â€¢&nbsp; <a href="/about-the-notes/">About the notes </a>&nbsp;â€¢&nbsp; <a href="https://pobo.dinhanhthi.com" target="_blank">Po Bo </a>&nbsp;â€¢&nbsp; <a href="/for-me-only/">For me only </a>&nbsp;â€¢&nbsp; <a href="/donate/">Support Thi</a></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/elasticlunr/0.9.6/elasticlunr.min.js"></script></body></html>